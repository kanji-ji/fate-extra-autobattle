# fate-extra-autobattle

## コードの動作

Fate/EXtRAまたはFate/EXTRA CCCのバトルにおいて各ターンでの
受けるダメージの期待値が最小となる行動パターンを出力します。

## 実行環境

Python3系の環境があれば多分動きます。2系は確認してないので動作は保証できませんがエラーが出なければ動いていると思います。

## 記号の定義

基本的に以下の定義に従って入力と出力がなされます。

|記号|意味|
|----|----|
| G |GUARD|
| B |BREAK|
| A |ATTACK|
| S |SKILL|
| E |EXTRA|
| W |WAIT|
|*|不明なパターン|

## コードの動かし方

攻略Wikiなどから敵の行動パターンの表をpattern.txtにコピペしてください。宝具がEXになっていたり、スキルにマジックナンバーがついていたりする場合は取り除いてください。

そして以下のコードを実行してください。

```python
python pattern.py
```

すると

```
Enter enemy action.
```

と出力されるので続けて敵の行動パターンを入力してください。例えば1番目がGUARD、3番目がBREAKなら以下のようになるでしょう。不明なパターンは`*`を書いてください。ただし最後の連続する`*`は省略できます。

```
G*B***
G*B
```

## 出力の解釈

基本的には出力された記号の通りに行動を選択すればよいです。

ただしATTACK、GUARD、BREAKの中からしか行動を選択しないので、スキル・コードキャストなどは個人の判断で使ってください。また当然ながら負ける場合もあります。

`*`が出力された場合はどれを選択しても受けるダメージの期待値が変わらない、ということを意味します。なので適当に選んでもよいし、スキルでつぶすのもありです。

`W`が出力された場合はどれを選んでも負けません。ただし`WWWWWW`のように全て`W`の場合は入力にミスがあったか、pattern.txtにない行動を敵がとった場合なので警戒が必要です。
